// WARNING: DO NOT DELETE THIS FILE
// This file was auto-generated by the Witnet compiler, any manual changes will be overwritten.
const WitnetBridgeInterface = artifacts.require("WitnetBridgeInterface")
const MockWitnetBridgeInterface = artifacts.require("MockWitnetBridgeInterface")
const CBOR = artifacts.require("CBOR")
const Witnet = artifacts.require("Witnet")

const addresses = {
  "goerli": {
    "BlockRelay": "0xab55369585B03398fDf359D1bAA0D48995C1832A",
    "CBOR": "0xf745411E9AC5585CF0fdd9Af4960D1E054914A6C",
    "Witnet": "0xb040049c6D1A92Bed29a33B4144F60544052E07a",
    "WitnetBridgeInterface": "0xaa1E5aD32a78C1b33A2E364bD009E02da55294Ac",
  },
  "rinkeby": {
    "BlockRelay": "0xCD835FB8B7359550Cd378f6b048374cE6Da423A8",
    "CBOR": "0xD9b64aB025D9bf90c6DF26C14aeEDdc9db631a8c",
    "Witnet": "0xAF0E4F49e205337f90F63cDFaBe2c0f0dc68D75F",
    "WitnetBridgeInterface": "0xd8A860cD69Ec9E5e4CF4Ec2eb6BA89db667776b5",
  },
}

module.exports = function (deployer, network) {
  network = network.split("-")[0]
  if (network in addresses) {
    Witnet.address = addresses[network]["Witnet"]
    WitnetBridgeInterface.address = addresses[network]["WitnetBridgeInterface"]
  } else {
    deployer.deploy(CBOR)
    deployer.link(CBOR, Witnet)
    deployer.deploy(Witnet)
    deployer.deploy(MockWitnetBridgeInterface).then(function() {
     return WitnetBridgeInterface.address = MockWitnetBridgeInterface.address
    })
  }
}
